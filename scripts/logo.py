#!/usr/bin/python3

# generate LOGO lines for gowin_dpb_menu.v

# Fonts: Verdana Pro, Bodoni MT Bold, Small Fonts
# 72 columns, 14 rows
#      ["000011110000110011111111001111001111111110000000000000000000000000000000",

LOGO = ["011111111000000000000000000000000000000011111100000000000000000000000000",
        "011111111000000000000000000000000000001111111100000000000000000000000000",
        "000111100000000000000000000000000000001110000000000000000000000000000000",
        "000011000001111110011111111000111110001110000000111111000110111001111100",
        "000011000001111111011111111001111111001100000001111111100111111011111110",
        "000011000000000111011100011001100011001100000001110001100111000011000110",
        "000011000001111111011100011001100011001100000001110001100110000011111110",
        "000011000011111111011100011001100011001100000001110001100110000011111110",
        "000011000011100111011100011001111111001110000001110001100110000011000000",
        "000011000011111111011100011000111111001111111101111111100110000011111110",
        "000011000001111111011100011000000011000111111100111111000110000001111100",
        "000000000000000000000000000001100111000000000000000000000000000000000000",
        "000000000000000000000000000001111111000000000000000000000000000000000000",
        "000000000000000000000000000000011100000000000000000000000000000000000000"
        ]

from PIL import Image
import sys

# if len(sys.argv) != 2:
#     print("Usage: {} <image>".format(sys.argv[0]))
#     sys.exit(1)

# with Image.open(sys.argv[1]) as img:
#     width, height = img.size
#     if width != 72 or height != 14:
#         print("Image size must be 72x14")
#         sys.exit(1)
#     for y in range(height):
#         LOGO[y]= ""
#         for x in range(width):
#             p = img.getpixel((x, y))
#             # print(p)
#             if p[0] == 0:
#                 LOGO[y] = LOGO[y] + "0"
#             else:
#                 LOGO[y] = LOGO[y] + "1"

for i in range(14):
    print(LOGO[i])                

# gowin_dpb_menu.v's logo format is 9 bytes per row, 14 rows, in total 126 bytes

r = []

for i in range(126):
    j = i % 9
    s = LOGO[i // 9][j*8 : j*8+8]
    b = 0
    for k in range(8):
        if s[k] == '1':
            b += 1 << k
    # print("{} -> {:02X}".format(s, b))
    r.append(b)

assert(len(r) == 126)

r.append(0)
r.append(0)

for i in range(4):
    off = i * 32
    print("defparam dpb_inst_0.INIT_RAM_{:02X} = 256'h".format(0x1C+i), end='')
    for j in range(31, -1, -1):     # 31, 30, ...
        print("{:02X}".format(r[off+j]), end='')
    print()

